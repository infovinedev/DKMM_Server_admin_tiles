<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.infovine.dkmm.mapper.admin.TAdminPermissionMapper">
  <resultMap id="BaseResultMap" type="kr.co.infovine.dkmm.db.model.admin.TbAdminPermissionModel">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    <id column="admin_permission_seq" jdbcType="INTEGER" property="adminPermissionSeq" />
    <result column="admin_user_seq" jdbcType="INTEGER" property="adminUserSeq" />
    <result column="admin_program_seq" jdbcType="INTEGER" property="adminProgramSeq" />
    <result column="block_yn" jdbcType="VARCHAR" property="blockYn" />
    <result column="reg_date" jdbcType="VARCHAR" property="regDate" />
    <result column="update_date" jdbcType="VARCHAR" property="updateDate" />
  </resultMap>
  
  <!-- 1:N관계 by Kim D.H -->
  <!-- <resultMap id="JoinResultMap" type="kr.co.infovine.dkmm.db.model.admin.TbAdminPermission" extends="BaseResultMap">
    <collection property="adminProgram" column="admin_program_seq" javaType="java.util.ArrayList" ofType="adminProgram"
			select="kr.co.infovine.dkmm.mapper.admin.TbAdminProgramMapper.selectByPrimaryKey"/>
  </resultMap> -->
  <!-- 1:N관계 끝 -->
  
  <!-- 1:1관계 by Kim D.H -->
  <resultMap id="JoinResultMap" type="kr.co.infovine.dkmm.db.model.admin.TbAdminPermissionModel" extends="BaseResultMap">
    <id column="admin_program_seq" jdbcType="INTEGER" property="adminProgramSeq" />
    <association property="adminProgram" column="admin_program_seq"
			select="kr.co.infovine.dkmm.mapper.admin.TAdminProgramMapper.selectByPrimaryKey"/>
  </resultMap>
  <!-- 1:1관계 끝 -->
  
  <!-- 1:1관계 by Kim D.H -->
  <!-- <resultMap id="JoinResultMapTEST" type="kr.co.infovine.dkmm.db.model.admin.TbAdminPermissionModel" extends="BaseResultMap">
    <association property="adminProgram">
    	<result column="program_id" jdbcType="VARCHAR" property="programId" />
	    <result column="parents_program_id" jdbcType="VARCHAR" property="parentsProgramId" />
	    <result column="level" jdbcType="VARCHAR" property="level" />
	    <result column="program_name" jdbcType="VARCHAR" property="programName" />
	    <result column="program_sort" jdbcType="VARCHAR" property="programSort" />
	    <result column="use_yn" jdbcType="VARCHAR" property="useYn" />
	    <result column="reg_date" jdbcType="VARCHAR" property="regDate" />
	    <result column="update_date" jdbcType="VARCHAR" property="updateDate" />
	    <result column="location" jdbcType="LONGVARCHAR" property="location" />
    </association>
  </resultMap> -->
  <!-- 1:1관계 끝 -->
  
  <!-- <select id="selectByUserLeftMenuTEST" parameterType="java.lang.Integer" resultMap="JoinResultMapTEST">
    select a.admin_permission_seq, a.admin_user_seq, a.admin_program_seq, a.block_yn, a.reg_date, 
    a.update_date
    , b.level, b.program_name, b.program_sort, 
    b.use_yn, b.reg_date, b.update_date, b.location
    from t_admin_permission as a
    LEFT JOIN TB_Admin_Program as b
    on a.admin_program_seq = b.admin_program_seq
    where a.admin_user_seq = #{adminUserSeq,jdbcType=INTEGER}
  </select> -->
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    delete from t_admin_permission
    where admin_permission_seq = #{adminPermissionSeq,jdbcType=INTEGER}
  </delete>
  
  <delete id="deleteByAdminUserSeq" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    delete from t_admin_permission
    where admin_user_seq = #{adminUserSeq,jdbcType=INTEGER}
  </delete>
  
  
  <insert id="insert" parameterType="kr.co.infovine.dkmm.db.model.admin.TbAdminPermissionModel">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    insert into t_admin_permission ( admin_user_seq, 
      admin_program_seq, block_yn, reg_date, 
      update_date)
    values (#{adminUserSeq,jdbcType=INTEGER}, 
      #{adminProgramSeq,jdbcType=INTEGER}, 'N', #{regDate,jdbcType=VARCHAR}, 
      #{updateDate,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="kr.co.infovine.dkmm.db.model.admin.TbAdminPermissionModel">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    update t_admin_permission
    set admin_user_seq = #{adminUserSeq,jdbcType=INTEGER},
      admin_program_seq = #{adminProgramSeq,jdbcType=INTEGER},
      block_yn = #{blockYn,jdbcType=VARCHAR},
      reg_date = #{regDate,jdbcType=VARCHAR},
      update_date = #{updateDate,jdbcType=VARCHAR}
    where admin_permission_seq = #{adminPermissionSeq,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    select admin_permission_seq, admin_user_seq, admin_program_seq, block_yn, reg_date, 
    update_date
    from t_admin_permission
    where admin_permission_seq = #{adminPermissionSeq,jdbcType=INTEGER}
  </select>
  
  
  <select id="selectByUserLeftMenu" parameterType="java.lang.Integer" resultMap="JoinResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    select 	a.admin_permission_seq, a.admin_user_seq, a.admin_program_seq, a.block_yn, a.reg_date, 
    		a.update_date
    from t_admin_permission a join t_admin_program b
    							on a.admin_program_seq = b.admin_program_seq
    where a.admin_user_seq = #{adminUserSeq,jdbcType=INTEGER}
    order by b.program_id,  b.program_sort
  </select>
  
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 10 14:15:37 KST 2021.
    -->
    select admin_permission_seq, admin_user_seq, admin_program_seq, block_yn, reg_date, 
    update_date
    from t_admin_permission
  </select>
</mapper>